<div class="rgb(27,32,38) p-4 rounded-lg shadow-xl"
    style="max-height: 400px; overflow-y: auto; scrollbar-width: thin; scrollbar-color: #888 rgb(27,32,38);">
    <div class="mb-4" style="border-bottom: 3px solid transparent;
                border-image: linear-gradient(to right, rgb(27,32,38), rgb(42,50,62),rgb(27,32,38)) 1;">
    </div>
    <table id="tabla-eventos" class="w-full text-white text-center" style="border-spacing: 0 5px;">
        <thead style="border-bottom: 1px solid #ffffff;">
            <tr>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">RTU ID</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">FECHA</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H1</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H2</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H3</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H4</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H5</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H6</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H7</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H8</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H9</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H10</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H11</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H12</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H13</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H14</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H15</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H16</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H17</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H18</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H19</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H20</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H21</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H22</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H23</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H24</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_H25</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_THD</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HR_BC</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H1</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H2</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H3</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H4</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H5</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H6</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H7</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H8</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H9</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H10</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H11</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H12</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H13</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H14</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H15</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H16</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H17</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H18</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H19</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H20</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H21</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H22</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H23</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H24</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_H25</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_THD</th>
                <th class="text-xl font-bold text-center" style="color:rgb(88,226,194); padding: 10px;">HS_BC</th>


            </tr>
        </thead>

        @php
            $hayDatos = false;
            foreach ($resultados as $r) {
                if (!empty($r->rtu_id) || !empty($r->lvs_id) || !empty($r->fh)) {
                    $hayDatos = true;
                    break;
                }
            }
        @endphp

        <tbody>
            @if(!$hayDatos)
                <tr>
                    <td colspan="50" class="py-4 text-center text-gray-400">
                        No hay datos disponibles
                    </td>
                </tr>
            @else
                @foreach($resultados as $resultado)
                    <tr>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->rtu_id) ? $resultado->rtu_id : 'No hay datos' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->fh) ? $resultado->fh : 'No hay datos' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h1) ? $resultado->hr_h1 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h2) ? $resultado->hr_h2 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h3) ? $resultado->hr_h3 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h4) ? $resultado->hr_h4 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h5) ? $resultado->hr_h5 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h6) ? $resultado->hr_h6 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h7) ? $resultado->hr_h7 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h8) ? $resultado->hr_h8 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h9) ? $resultado->hr_h9 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h10) ? $resultado->hr_h10 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h11) ? $resultado->hr_h11 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h12) ? $resultado->hr_h12 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h13) ? $resultado->hr_h13 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h14) ? $resultado->hr_h14 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h15) ? $resultado->hr_h15 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h16) ? $resultado->hr_h16 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h17) ? $resultado->hr_h17 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h18) ? $resultado->hr_h18 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h19) ? $resultado->hr_h19 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h20) ? $resultado->hr_h20 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h21) ? $resultado->hr_h21 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h22) ? $resultado->hr_h22 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h23) ? $resultado->hr_h23 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h24) ? $resultado->hr_h24 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_h25) ? $resultado->hr_h25 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_thd) ? $resultado->hr_thd : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hr_bc) ? $resultado->hr_bc : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h1) ? $resultado->hs_h1 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h2) ? $resultado->hs_h2 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h3) ? $resultado->hs_h3 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h4) ? $resultado->hs_h4 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h5) ? $resultado->hs_h5 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h6) ? $resultado->hs_h6 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h7) ? $resultado->hs_h7 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h8) ? $resultado->hs_h8 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h9) ? $resultado->hs_h9 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h10) ? $resultado->hs_h10 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h11) ? $resultado->hs_h11 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h12) ? $resultado->hs_h12 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h13) ? $resultado->hs_h13 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h14) ? $resultado->hs_h14 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h15) ? $resultado->hs_h15 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h16) ? $resultado->hs_h16 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h17) ? $resultado->hs_h17 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h18) ? $resultado->hs_h18 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h19) ? $resultado->hs_h19 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h20) ? $resultado->hs_h20 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h21) ? $resultado->hs_h21 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h22) ? $resultado->hs_h22 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h23) ? $resultado->hs_h23 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h24) ? $resultado->hs_h24 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_h25) ? $resultado->hs_h25 : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_thd) ? $resultado->hs_thd : '0' }}
                        </td>
                        <td class="py-2" style="padding: 10px;">
                            {{ !empty($resultado->hs_bc) ? $resultado->hs_bc : '0' }}
                        </td>
                    </tr>
                @endforeach
            @endif
        </tbody>
    </table>
</div>

@php
    use Carbon\Carbon;

    $fecha_inicio = request()->query('fecha_inicio')
        ? Carbon::parse(request()->query('fecha_inicio'))
        : Carbon::now()->subHours(48);

    $fecha_fin = request()->query('fecha_fin')
        ? Carbon::parse(request()->query('fecha_fin'))
        : Carbon::now();

    $fechas_completas = [];
    $fecha_actual = $fecha_inicio->copy();

    while ($fecha_actual->lte($fecha_fin)) {
        $fechas_completas[] = $fecha_actual->format('Y-m-d');
        $fecha_actual->addDay();
    }

    $valoresAgrupados = [];

    foreach ($resultados as $r) {
        $fecha = \Carbon\Carbon::parse($r->fh)->format('Y-m-d');

        if (!isset($valoresAgrupados[$fecha])) {
            $valoresAgrupados[$fecha] = ['hr_thd' => [], 'hs_thd' => [], 'ht_thd' => []];
        }

        $valoresAgrupados[$fecha]['hr_thd'][] = $r->hr_thd;
        $valoresAgrupados[$fecha]['hs_thd'][] = $r->hs_thd;
        $valoresAgrupados[$fecha]['ht_thd'][] = $r->ht_thd;
    }

    $valoresHrPorFecha = [];
    $valoresHsPorFecha = [];
    $valoresHtPorFecha = [];

    foreach ($fechas_completas as $fecha) {
        $hr = $valoresAgrupados[$fecha]['hr_thd'] ?? [];
        $hs = $valoresAgrupados[$fecha]['hs_thd'] ?? [];
        $ht = $valoresAgrupados[$fecha]['ht_thd'] ?? [];

        $valoresHrPorFecha[$fecha] = count($hr) ? round(array_sum($hr) / count($hr), 2) : 0;
        $valoresHsPorFecha[$fecha] = count($hs) ? round(array_sum($hs) / count($hs), 2) : 0;
        $valoresHtPorFecha[$fecha] = count($ht) ? round(array_sum($ht) / count($ht), 2) : 0;
    }

@endphp


<div>
    <h1 class="text-center text-3xl mt-4" style="color: white;">TENSIONES
        DEL
        CT </h1>
    <h2 class="text-center text-1xl w-full mb-2" style="color: white;">
        @if (request()->query('fecha_inicio') && request()->query('fecha_fin'))
            Del
            {{ \Carbon\Carbon::parse(request()->query('fecha_inicio'))->format('d/m/Y') }}
            al
            {{ \Carbon\Carbon::parse(request()->query('fecha_fin'))->format('d/m/Y') }}
        @elseif (request()->query('fecha_inicio'))
            Del
            {{ \Carbon\Carbon::parse(request()->query('fecha_inicio'))->format('d/m/Y') }}
            al
            {{ \Carbon\Carbon::now()->format('d/m/Y') }}
        @else
            (Ãšltimas 48 horas)
        @endif
    </h2>
    <div style="border-bottom: 3px solid transparent;
        border-image: linear-gradient(to right, transparent, rgb(27,32,38), transparent) 1;">
    </div>

    <div class="card text-white mb-3 col-span-4"
        style="background: linear-gradient(to bottom, RGB(27 32 38), RGB(27 32 38));">

        @if (isset($resultados[0]) == null)
            <div class="p-4 h-full flex flex-col justify-center items-center">
                <p class="text-center text-yellow-500">No hay datos</p>
            </div>
        @else
            <div class="table-responsive w-full" style="display: flex; justify-content: center;">
                <div id="graficoV1" style="position: relative; height: 30vh; width: 80vw; overflow: hidden;">
                    <canvas id="graficoDistorsionesArmonicasR" class="w-full"></canvas>
                </div>
            </div>
        @endif
    </div>


    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const fechas = [
                @foreach ($fechas_completas as $f)
                    "{{ $f }}",
                @endforeach
        ];

            const hrThd = [
                @foreach ($fechas_completas as $f)
                    {{ $valoresHrPorFecha[$f] }},
                @endforeach
        ];

            const ctx = document.getElementById('graficoDistorsionesArmonicasR').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: fechas,
                    datasets: [{
                        label: 'HR_THD',
                        data: hrThd,
                        backgroundColor: 'rgba(88, 226, 194, 0.6)',
                        borderColor: 'rgba(88, 226, 194, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            ticks: {
                                color: '#ffffff',
                                stepSize: 2,
                                autoSkip: false,
                            }
                        },
                        y: {
                            beginAtZero: true,
                            ticks: { color: '#ffffff' }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: '#ffffff'
                            }
                        }
                    }
                }
            });
        });
    </script>

    {{-- ELEMENTO CENTRAL GRAFICO DISTORSIONES ARMONICAS S --}}
    <div class="card text-white mb-3 col-span-4"
        style="background: linear-gradient(to bottom, RGB(27 32 38), RGB(27 32 38));">

        @if (isset($resultados[0]) == null)
            <div class="p-4 h-full flex flex-col justify-center items-center">
                <p class="text-center text-yellow-500">No hay datos</p>
            </div>
        @else
            <div class="table-responsive w-full" style="display: flex; justify-content: center;">
                <div id="graficoV2" style="position: relative; height: 30vh; width: 80vw; overflow: hidden;">
                    <canvas id="graficoDistorsionesArmonicasS" class="w-full"></canvas>
                </div>
            </div>
        @endif
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const fechas = [
                @foreach ($fechas_completas as $f)
                    "{{ $f }}",
                @endforeach
        ];

            const hsThd = [
                @foreach ($fechas_completas as $f)
                    {{ $valoresHsPorFecha[$f] }},
                @endforeach
        ];

            const ctx = document.getElementById('graficoDistorsionesArmonicasS').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: fechas,
                    datasets: [{
                        label: 'HS_THD',
                        data: hsThd,
                        backgroundColor: 'rgba(88, 226, 194, 0.6)',
                        borderColor: 'rgba(88, 226, 194, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            ticks: {
                                color: '#ffffff',
                                stepSize: 2,
                                autoSkip: false,
                            }
                        },
                        y: {
                            beginAtZero: true,
                            ticks: { color: '#ffffff' }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: '#ffffff'
                            }
                        }
                    }
                }
            });
        });
    </script>

    {{-- ELEMENTO CENTRAL GRAFICO DISTORSIONES ARMONICAS T --}}
    <div class="card text-white mb-3 col-span-4"
        style="background: linear-gradient(to bottom, RGB(27 32 38), RGB(27 32 38));">

        @if (isset($resultados[0]) == null)
            <div class="p-4 h-full flex flex-col justify-center items-center">
                <p class="text-center text-yellow-500">No hay datos</p>
            </div>
        @else
            <div class="table-responsive w-full" style="display: flex; justify-content: center;">
                <div id="graficoV2" style="position: relative; height: 30vh; width: 80vw; overflow: hidden;">
                    <canvas id="graficoDistorsionesArmonicasT" class="w-full"></canvas>
                </div>
            </div>
        @endif
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const fechas = [
                @foreach ($fechas_completas as $f)
                    "{{ $f }}",
                @endforeach
        ];

            const htThd = [
                @foreach ($fechas_completas as $f)
                    {{ $valoresHtPorFecha[$f] }},
                @endforeach
        ];

            const ctx = document.getElementById('graficoDistorsionesArmonicasT').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: fechas,
                    datasets: [{
                        label: 'HT_THD',
                        data: htThd,
                        backgroundColor: 'rgba(88, 226, 194, 0.6)',
                        borderColor: 'rgba(88, 226, 194, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            ticks: {
                                color: '#ffffff',
                                stepSize: 2,
                                autoSkip: false,
                            }
                        },
                        y: {
                            beginAtZero: true,
                            ticks: { color: '#ffffff' }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: '#ffffff'
                            }
                        }
                    }
                }
            });
        });
    </script>

</div>